<!DOCTYPE html>
<html>
<head>
    <title>Gerar Hash de Senha</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8">
        <h1 class="text-2xl font-bold mb-6">üîê Gerador de Hash SHA-256</h1>

        <div class="space-y-4">
            <div>
                <label class="block font-semibold mb-2">Senha Admin:</label>
                <input type="text" id="adminPass" value="admin123" class="border p-2 w-full rounded">
                <div class="mt-2 p-3 bg-gray-50 rounded font-mono text-sm break-all" id="adminHash"></div>
            </div>

            <div>
                <label class="block font-semibold mb-2">Senha Unlock:</label>
                <input type="text" id="unlockPass" value="unlock123" class="border p-2 w-full rounded">
                <div class="mt-2 p-3 bg-gray-50 rounded font-mono text-sm break-all" id="unlockHash"></div>
            </div>

            <button onclick="generateHashes()" class="bg-blue-500 text-white px-6 py-3 rounded font-bold hover:bg-blue-600 w-full">
                Gerar Hashes
            </button>

            <div id="result" class="mt-6 p-4 bg-green-50 border-l-4 border-green-500 rounded hidden">
                <h3 class="font-bold mb-2">‚úÖ Hashes Gerados!</h3>
                <p class="text-sm text-gray-700 mb-2">Copie e cole no arquivo <code class="bg-gray-200 px-2 py-1 rounded">src/utils/auth.js</code>:</p>
                <pre id="codeOutput" class="bg-gray-900 text-green-400 p-4 rounded overflow-x-auto text-xs"></pre>
            </div>
        </div>
    </div>

    <script>
        async function hashPassword(password) {
            const encoder = new TextEncoder();
            const data = encoder.encode(password);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        async function generateHashes() {
            const adminPass = document.getElementById('adminPass').value;
            const unlockPass = document.getElementById('unlockPass').value;

            const adminHash = await hashPassword(adminPass);
            const unlockHash = await hashPassword(unlockPass);

            document.getElementById('adminHash').textContent = adminHash;
            document.getElementById('unlockHash').textContent = unlockHash;

            document.getElementById('codeOutput').textContent =
`// Linha 18 e 19 do src/utils/auth.js:
this.adminPasswordHash = '${adminHash}'; // '${adminPass}'
this.unlockPasswordHash = '${unlockHash}'; // '${unlockPass}'`;

            document.getElementById('result').classList.remove('hidden');
        }

        // Gera automaticamente ao carregar
        window.onload = generateHashes;
    </script>
</body>
</html>
